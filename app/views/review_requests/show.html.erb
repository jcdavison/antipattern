<div class='container'>
  <div class='row'>
    <div class='col-sm-10 col-sm-offset-2'>
      <div class='row'>
        <div class='col-sm-10 text-right no-left-padding no-right-padding'>
          <%= render partial: 'shared/review_request', locals: {review: @review_request} %>
        </div>
      </div>
    </div>
</div>
<% if is_owner_of?(current_user: current_user, review_request: @review_request) %>
  <div class='row'>
    <div class='col-sm-10 col-sm-offset-2'>
      <div class='row'>
        <div class='col-sm-10 border-bottom no-left-padding'>
          <h3>Offers to Review Your Code</h3>
        </div>
      </div>
      <div class='row'>
        <div class='col-sm-10 text-right no-left-padding no-right-padding'>
          <% @offers.each do |offer| %>
            <div class="offer" ng-controller='offerCtrl' setOfferId offer-ID="<%= offer.id %>">
              <span class="medium-small blue padded"><%= link_to "offered by: #{offer.user.name}", offer.user.github_profile, target: 'new' %> <%= image_tag offer.user.profile_pic , class: 'profile' %>
              </span>  
              <span class="offer-actions">
                <% ['accept', 'reject'].each do |somaction| %>
                  <button class='btn btn-default tools' ng-click="registerDecision('<%= somaction %>', <%= offer.id.to_s %>)" ng-hide='acceptStatus != null'>
                    <span >
                      <%= somaction %>
                    </span>
                  </button>
                <% end %>
                <span ng-show="acceptStatus">
                  accepted
                </span>
                <span ng-show="acceptStatus == false">
                  rejected
                </span>
                <span ng-show="acceptStatus == null">
                  no disposition
                </span>
              </span>
            </div>

          <% end %>
        </div>
      </div>
    </div>
<% end %>
